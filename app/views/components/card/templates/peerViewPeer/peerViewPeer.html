<div ng-controller="BmpCardPeerPeerController">
  <!--COLLAPSED view-->
  <div ng-hide="cardExpand" class="collapsed">
    <!--Global Peer Card-->
    <div ng-hide="cardExpand" class="collapsed">
      <icon class="bmp-outline_router" style="font-size:36px;color:#e9a445;"></icon>
      BMP Peer |
      {{data.PeerASN}} |
      {{data.PeerName}} |
      {{data.PeerIP}}
    </div>
    <!--End Peer Card Expand-->
  </div>

  <!--EXPANDED view-->
  <div ng-show="cardExpand">
    <!--Peer Card in Global View-->
    <h3>Peer Detail</h3>
    <span style="float: right;text-align: right;">
      Peer Down Time
      <span ng-class="{'red': downTime!='Up', 'green': downTime=='Up'}">
        {{ downTime }}
      </span>
    </span>
    <h4>{{ data.PeerName }}</h4>


    <div class="col-md-5">
      <!--SVG for the Router and Peers-->
      <svg width="350.00000000000006" height="150" style="width:350px; height:150px;" xmlns="http://www.w3.org/2000/svg">
        <g>
          <g id="svg_link">
            <line x1="56.50251" y1="95.01256" x2="234.50251" y2="95.01256" stroke-width="1" stroke="#000000"/>
          </g>
          <g id="svg_router">
            <ellipse ry="21.5" rx="22" id="svg_12" cy="94.5" cx="57" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#ff007f"/>
            <path id="svg_2" d="m35.8348,92.35545l10.1537,-0.05322l-0.0235,-4.28049l6.8049,6.48255l-6.23725,6.259l-0.2215,-4.08485l-10.25378,-0.04355l-0.22258,-4.27945l0.00001,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#ffaaff"/>
            <path id="svg_3" d="m54.4888,114.7042l0.14675,-9.92205l-4.37965,-0.06185l6.7668,-6.5205l6.27974,6.2183l-4.18344,0.13551l-0.2477,10.01788l-4.3825,0.13271l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#d4aaff"/>
            <path id="svg_4" d="m77.667,96.3543l-10.15359,0.0513l0.02259,4.2804l-6.8036,-6.4838l6.2385,-6.2578l0.2207,4.0849l10.2538,0.0455l0.2216,4.2795l0,0l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#d4aaff"/>
            <path id="svg_6" d="m59.2166,74.5632l-0.0319,9.923l4.3801,0.0134l-6.6909,6.59489l-6.3513,-6.1485l4.1816,-0.1817l0.1318,-10.02l4.3807,-0.1811l0,0l-0.0001,0l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#ffaaff"/>
          </g>
          <title>Layer 1</title>
          <g id="svg_5">
            <ellipse ry="21.5" rx="22" cy="93.99749" cx="240.9196" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#ff007f" id="svg_7"/>
            <path d="m219.754,91.85291l10.15401,-0.05322l-0.02301,-4.28049l6.804,6.4826l-6.237,6.259l-0.22099,-4.08489l-10.254,-0.0435l-0.22301,-4.2795l0,0l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#ffaaff" id="svg_8"/>
            <path d="m238.408,114.2017l0.14699,-9.9221l-4.379,-0.06181l6.76601,-6.52049l6.28,6.2183l-4.183,0.1355l-0.248,10.0179l-4.383,0.1327l0,0l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#d4aaff" id="svg_9"/>
            <path d="m261.58701,95.8518l-10.15401,0.0513l0.02299,4.2804l-6.804,-6.4838l6.23801,-6.2578l0.22099,4.0849l10.254,0.04549l0.22202,4.2795l0,0l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#d4aaff" id="svg_10"/>
            <path d="m243.13625,74.06067l-0.03194,9.92302l4.3801,0.01345l-6.69095,6.59486l-6.35132,-6.14851l4.18161,-0.18169l0.13181,-10.02002l4.38069,-0.18111l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#ffaaff" id="svg_11"/>
          </g>
          <text fill="#000000" stroke="#000000" stroke-width="0" x="55.76471" y="137.58824" id="svg_13" font-size="24" font-family="Sans-serif" text-anchor="middle" xml:space="preserve">{{data.RouterIP}}</text>
          <text fill="#000000" stroke="#000000" stroke-width="0" x="240.47059" y="137.98039" font-size="24" font-family="Sans-serif" text-anchor="middle" xml:space="preserve" id="svg_14">{{peerFullIp}}</text>
          <text fill="#000000" stroke="#000000" stroke-width="0" x="55.76471" y="70.13726" font-size="24" font-family="Sans-serif" text-anchor="middle" xml:space="preserve" id="svg_15">{{data.LocalASN}}</text>
          <text fill="#000000" stroke="#000000" stroke-width="0" x="239.29412" y="68.96079" font-size="24" font-family="Sans-serif" text-anchor="middle" xml:space="preserve" id="svg_16">{{data.PeerASN}}</text>
          <text fill="#000000" stroke="#000000" stroke-width="0" x="56.06742" y="34.26966" id="svg_17" font-size="24" font-family="Sans-serif" text-anchor="middle" xml:space="preserve">{{data.RouterName}}</text>
          <text fill="#000000" stroke="#000000" stroke-width="0" x="238.65169" y="33.70786" font-size="24" font-family="Sans-serif" text-anchor="middle" xml:space="preserve" id="svg_18">{{data.PeerName}}</text>
        </g>
      </svg>
      <!--END SVG-->
    </div>

    <div class="col-md-5">
      <span ng-bind-html="locationInfo"></span>
    </div>

    <!--NEED TO BE CHANGED(pre and peer tables)-->
    <!--Number Prefixes-->
    <table class="ribTable">
      <tr>
        <th> </th>
        <th>Number of prefixes</th>
      </tr>
      <tr>
        <td>{{ ribData[0][0] }}</td>
        <td>{{ ribData[0][1] }}</td>
      </tr>
      <tr>
        <td>{{ ribData[1][0] }}</td>
        <td>{{ ribData[1][1] }}</td>
      </tr>
    </table>
    <br>

    <tabset>
      <tab heading="Downstream ASes of Peer" select="downStreamTab()">
        <div class="gridStyle" ui-grid="peerViewPeerOptions" ng-style="{'height':peerViewPeerOptions.changeHeight}"></div>
      </tab>
      <tab heading="Routing Table" select="getRibData()">

        <input type="text" ng-change="enterValue(searchValue)" ng-model="searchValue" placeholder="Search ..." />

        <!--Angular Table added here-->
        <div class="gridStyle" ui-grid-selection ui-grid="ribGridOptions" ng-style="{'height':ribGridOptions.changeHeight}"></div>


        <!--like the more details section.-->
        <div ng-if="values !== undefined">
          <!--{{ values }}-->
          <h3>Prefix Detail</h3>

          <section style="width: 100%;margin: auto;padding: 10px;">
            <div class="left-container"
              style="float: left;width:49%;">

              <svg width="350.00000000000006" height="150" style="width:350px; height:150px;" xmlns="http://www.w3.org/2000/svg">
                <g>
                  <g id="svg_link">
                    <line x1="56.50251" y1="95.01256" x2="234.50251" y2="95.01256" stroke-width="1" stroke="#000000"/>
                  </g>
                  <g id="svg_router">
                    <ellipse ry="21.5" rx="22" id="svg_12" cy="94.5" cx="57" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#ff007f"/>
                    <path id="svg_2" d="m35.8348,92.35545l10.1537,-0.05322l-0.0235,-4.28049l6.8049,6.48255l-6.23725,6.259l-0.2215,-4.08485l-10.25378,-0.04355l-0.22258,-4.27945l0.00001,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#ffaaff"/>
                    <path id="svg_3" d="m54.4888,114.7042l0.14675,-9.92205l-4.37965,-0.06185l6.7668,-6.5205l6.27974,6.2183l-4.18344,0.13551l-0.2477,10.01788l-4.3825,0.13271l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#d4aaff"/>
                    <path id="svg_4" d="m77.667,96.3543l-10.15359,0.0513l0.02259,4.2804l-6.8036,-6.4838l6.2385,-6.2578l0.2207,4.0849l10.2538,0.0455l0.2216,4.2795l0,0l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#d4aaff"/>
                    <path id="svg_6" d="m59.2166,74.5632l-0.0319,9.923l4.3801,0.0134l-6.6909,6.59489l-6.3513,-6.1485l4.1816,-0.1817l0.1318,-10.02l4.3807,-0.1811l0,0l-0.0001,0l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#ffaaff"/>
                  </g>
                  <title>Layer 1</title>
                  <g id="svg_5">
                    <ellipse ry="21.5" rx="22" cy="93.99749" cx="240.9196" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#ff007f" id="svg_7"/>
                    <path d="m219.754,91.85291l10.15401,-0.05322l-0.02301,-4.28049l6.804,6.4826l-6.237,6.259l-0.22099,-4.08489l-10.254,-0.0435l-0.22301,-4.2795l0,0l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#ffaaff" id="svg_8"/>
                    <path d="m238.408,114.2017l0.14699,-9.9221l-4.379,-0.06181l6.76601,-6.52049l6.28,6.2183l-4.183,0.1355l-0.248,10.0179l-4.383,0.1327l0,0l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#d4aaff" id="svg_9"/>
                    <path d="m261.58701,95.8518l-10.15401,0.0513l0.02299,4.2804l-6.804,-6.4838l6.23801,-6.2578l0.22099,4.0849l10.254,0.04549l0.22202,4.2795l0,0l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#d4aaff" id="svg_10"/>
                    <path d="m243.13625,74.06067l-0.03194,9.92302l4.3801,0.01345l-6.69095,6.59486l-6.35132,-6.14851l4.18161,-0.18169l0.13181,-10.02002l4.38069,-0.18111l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke="#000000" fill="#ffaaff" id="svg_11"/>
                  </g>
                  <text fill="#000000" stroke="#000000" stroke-width="0" x="55.76471" y="70.13726" font-size="24" font-family="Sans-serif" text-anchor="middle" xml:space="preserve" id="svg_15">{{data.PeerASN}}</text>
                  <text fill="#000000" stroke="#000000" stroke-width="0" x="239.29412" y="68.96079" font-size="24" font-family="Sans-serif" text-anchor="middle" xml:space="preserve" id="svg_16">{{values.Origin_AS}}</text>
                  <text fill="#000000" stroke="#000000" stroke-width="0" x="55.76471" y="137.58824" id="svg_13" font-size="24" font-family="Sans-serif" text-anchor="middle" xml:space="preserve">{{peerFullIp}}</text>
                  <text fill="#000000" stroke="#000000" stroke-width="0" x="240.47059" y="137.98039" font-size="24" font-family="Sans-serif" text-anchor="middle" xml:space="preserve" id="svg_14">{{values.PeerAddress}}</text>
                </g>
              </svg>

              <br>
              RouterName: {{values.RouterName}}<p>
              PeerName: {{values.PeerName}}<p>
              Prefix: {{values.Prefix}}<p>
              PrefixLen: {{values.PrefixLen}}<p>
              Origin: {{values.Origin}}<p>
              Origin_AS: {{values.Origin_AS}}<p>
              MED: {{values.MED}}<p>
              LocalPref: {{values.LocalPref}}<p>
              NH: {{values.NH}}<p>
              AS_Path: {{values.AS_Path}}<p>
              ASPath_Count: {{values.ASPath_Count}}<p>
              Communities: {{values.Communities}}<p>

            </div>

            <div class="right-container"
                 style="margin-left: 49%;">
              <map location="'singlePoint'" style="top:0; bottom:0; width:100%;" />
              <div style="width:49%;display: inline-block;">
                <!--"ip_start": "216.40.0.0",-->
                <!--"ip_end": "216.40.5.255",-->
                <!--"addr_type": "ipv4",-->
                <!--"ip_start_bin": "�(\u0000\u0000",-->
                <!--"ip_end_bin": "�(\u0005�"-->
                country: {{values.geo.country}}<br>
                state: {{values.geo.stateprov}}<br>
                city: {{values.geo.city}}<br>
                lat: {{values.geo.latitude}}<br>
                long: {{values.geo.longitude}}
              </div>

              <div style="width:49%;display: inline-block;">
                timezone: {{values.geo.timezone_offset}}<br>
                time name: {{values.geo.timzone_name}}<br>
                isp name: {{values.geo.isp_name}}<br>
                connection type: {{values.geo.connection_type}}<br>
                org name: {{values.geo.organization_name}}
              </div>

            </div>
          </section>

        </div>

      </tab>
    </tabset>
  </div>
</div>
