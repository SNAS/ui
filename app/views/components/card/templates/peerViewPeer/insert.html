<div ng-controller="BmpCardPeerPeerInsertController">
  <h4>Further Peer Information</h4>
  <tabset>
    <tab heading="Downstream ASes of Peer" select="downStreamTab()">
      <div class="gridStyle" ui-grid="summaryPeerOptions" ui-grid-selection ng-style="{'height':summaryPeerOptions.changeHeight}"></div>
    </tab>
    <tab heading="Routing Table" select="getRibData()">

      <input type="text" ng-change="enterValue(searchValue)" ng-model="searchValue" placeholder="Search ..." />

      <!--Angular Table added here-->
      <div class="gridStyle" ui-grid-selection ui-grid="ribGridOptions" ng-style="{'height':ribGridOptions.changeHeight}"></div>


      <!--like the more details section.-->
      <div ng-if="values !== undefined">
        <!--{{ values }}-->
        <h3>Prefix Detail</h3>

      <!-- AS path -->

        <div style="height:250px;overflow-x: scroll;border: 1px solid black;width:100%;padding-top: 75px;padding-left: 40px">

            <div  ng-style="{'width':asPath.width}">

              <div ng-repeat="path in as_path" style="position: relative;float: left;width:150px;">
                <!--icon-->
                <div style="display: table-cell;">
                  <div style="text-align: center" tooltip="{{path.topVal}}">{{ wordCheck(path.topVal) }}</div>

          <!--This is the actual AS icon  '{"show":500, "hide":5300}'-->
          <div class="{{ path.icon }}" style="font-size: 50px" ng-style="{'color':path.colour}" popover="{{path.popOut}}" popover-placement="right" popover-trigger="mouseenter"></div>
                  <div style="text-align: center">{{ path.botVal }}</div>
                </div>
                <!--line-->
                <div style="display: table-cell;" ng-if="path.isEnd">
                  <div style="width: 100px;height: 2px;background-color:#000000;position: absolute;margin-top: 45px;"
                       ng-style="{'width':asPath.lineWidth}"></div>
                </div>
              </div>

            </div>

          </div>

        <!--div ng-controller="CanvasController">
          <canvas id="tutorial" style="border: 1px solid black;width:100%;height: 200px;"></canvas>
        </div-->

        <section style="width: 100%;margin: auto;padding: 10px;">
          <div class="left-container"
            style="float: left;width:49%;">


            <div ng-if="rpiconData != undefined">
              <div bmp-card-router-peer-icon
                   data="rpiconData">
              </div>
            </div>

            <br>
            RouterName: {{values.RouterName}}<p>
            PeerName: {{values.PeerName}}<p>
            Prefix: {{values.Prefix}}<p>
            PrefixLen: {{values.PrefixLen}}<p>
            Origin: {{values.Origin}}<p>
            Origin_AS: {{values.Origin_AS}}<p>
            MED: {{values.MED}}<p>
            LocalPref: {{values.LocalPref}}<p>
            NH: {{values.NH}}<p>
            AS_Path: {{values.AS_Path}}<p>
            ASPath_Count: {{values.ASPath_Count}}<p>
            Communities: {{values.Communities}}<p>

          </div>

          <div class="right-container"
               style="margin-left: 49%;">
            <div ng-if="latLong != undefined">
              <map name="peer-view-peer-card" location="'peerCard'" plot-marker="latLong" style="top:0; bottom:0; width:100%;" />
            </div>
            <div style="width:49%;display: inline-block;">
              <!--"ip_start": "216.40.0.0",-->
              <!--"ip_end": "216.40.5.255",-->
              <!--"addr_type": "ipv4",-->
              <!--"ip_start_bin": "�(\u0000\u0000",-->
              <!--"ip_end_bin": "�(\u0005�"-->
              country: {{values.geo.country}}<br>
              state: {{values.geo.stateprov}}<br>
              city: {{values.geo.city}}<br>
              lat: {{values.geo.latitude}}<br>
              long: {{values.geo.longitude}}
            </div>

            <div style="width:49%;display: inline-block;">
              timezone: {{values.geo.timezone_offset}}<br>
              time name: {{values.geo.timzone_name}}<br>
              isp name: {{values.geo.isp_name}}<br>
              connection type: {{values.geo.connection_type}}<br>
              org name: {{values.geo.organization_name}}
            </div>

          </div>
        </section>

      </div>

    </tab>
    <tab heading="Graphs" select="showGraphs()">
      <div bmp-card ng-repeat="graph in graphs"
        data="{ 'peer_hash_id': data.peer_hash_id, 'visible': graphVisibility }"
        noremove="false"
        template="graph"
        expand="true">
      </div>
    </tab>
  </tabset>
</div>
