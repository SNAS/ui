<div ng-controller="BmpCardPeerPeerInsertController">
  <h4>Further Peer Information</h4>
  <tabset>
    <tab heading="Downstream ASes of Peer" select="downStreamTab()">
      <div class="loading-section">
        <div ng-show="summaryGridIsLoad" bmp-loading></div>
        <div ui-grid="summaryPeerOptions" ui-grid-selection ng-style="{'height':summaryPeerOptions.changeHeight}"></div>
      </div>
    </tab>
    <tab heading="Routing Table" select="getRibData()">

      <input type="text" ng-change="enterValue(searchValue)" ng-model="searchValue" placeholder="Search ..." />

      <!--Angular Table added here-->
      <div class="loading-section" ng-style="{'height':ribGridInitHeight}">
        <div ng-show="ribGridIsLoad" bmp-loading loading-var="ribGridIsLoad" font-width="80"></div>
        <div ui-grid-selection ui-grid="ribGridOptions" ng-style="{'height':ribGridOptions.changeHeight}"></div>
      </div>


      <!--like the more details section.-->
      <div ng-if="values !== undefined">
        <!--{{ values }}-->
        <h3>Prefix Detail</h3>

      <!-- AS path -->

        <div class = "as-path">

            <div  ng-style="{'width':asPath.width}">

              <div ng-repeat="path in as_path" style="position: relative;float: left;width:150px;">
                <!--icon-->
                <div style="display: table-cell;">

                  <span ng-if="path.noTopText">
                    <div style="text-align: center">&nbsp;</div>
                  </span>

                  <span ng-if="!path.noTopText">
                    <div style="text-align: center" tooltip="{{path.topVal}}">{{ wordCheck(path.topVal) }}</div>
                  </span>

                  <!--This is the actual AS icon-->
                  <div class="{{ path.icon }}" id="here" style="font-size: 50px" ng-style="{'color':path.colour}" data-content="{{path.popOut}}" data-html=true data-popover></div>
                  <div style="text-align: center">{{ path.botVal }}</div>
                </div>
                <!--line-->
                <div style="display: table-cell;" ng-if="path.isEnd">
                  <div style="width: 100px;height: 2px;background-color:#000000;position: absolute;margin-top: 45px;"
                       ng-style="{'width':asPath.lineWidth}"></div>
                </div>
              </div>

            </div>

          </div>

        <section style="width: 100%;margin: auto;padding: 10px;">
          <div class="left-container"
            style="float: left;width:49%;">


            <div ng-if="rpiconData != undefined">
              <div bmp-card-router-peer-icon
                   data="rpiconData">
              </div>
            </div>

            <br><br>
            <p><span class="bold">RouterName:</span> {{values.RouterName}}</p>
            <p><span class="bold">PeerName:</span> {{values.PeerName}}</p>
            <p><span class="bold">Prefix:</span> {{values.Prefix}}</p>
            <p><span class="bold">PrefixLen:</span> {{values.PrefixLen}}</p>
            <p><span class="bold">Origin:</span> {{values.Origin}}</p>
            <p><span class="bold">Origin_AS:</span> {{values.Origin_AS}}</p>
            <p><span class="bold">MED:</span> {{values.MED}}</p>
            <p><span class="bold">LocalPref:</span> {{values.LocalPref}}</p>
            <p><span class="bold">NH:</span> {{values.NH}}</p>
            <p><span class="bold">AS_Path:</span> {{values.AS_Path}}</p>
            <p><span class="bold">ASPath_Count:</span> {{values.ASPath_Count}}</p>
            <p><span class="bold">Communities:</span> {{values.Communities}}</p>

          </div>

          <div class="right-container"
               style="margin-left: 49%;">
            <div ng-if="latLong != undefined">
              <map name="peer-view-peer-card" location="'peerCard'" plot-marker="latLong" style="top:0; bottom:0; width:100%; height: 300px" />
            </div>
            <div style="width:49%;display: inline-block;">
              <p><span class="bold">Country:</span> {{values.geo.country}}</p>
              <p><span class="bold">State:</span> {{values.geo.stateprov}}</p>
              <p><span class="bold">City:</span> {{values.geo.city}}</p>
              <p><span class="bold">Lat:</span> {{values.geo.latitude}}</p>
              <p><span class="bold">Long:</span> {{values.geo.longitude}}</p>
            </div>

            <div style="width:49%;display: inline-block;">
              <p><span class="bold">Timezone:</span> {{values.geo.timezone_offset}}</p>
              <p><span class="bold">Time name:</span> {{values.geo.timzone_name}}</p>
              <p><span class="bold">ISP name:</span> {{values.geo.isp_name}}</p>
              <p><span class="bold">Connection type:</span> {{values.geo.connection_type}}</p>
              <p><span class="bold">Org name:</span> {{values.geo.organization_name}}</p>
            </div>

          </div>
        </section>

      </div>

    </tab>
    <tab heading="Graphs" select="showGraphs()">
      <div bmp-card ng-repeat="graph in graphs"
        data="{ 'peer_hash_id': data.peer_hash_id, 'visible': graphVisibility }"
        noremove="false"
        template="graph"
        expand="true">
      </div>
    </tab>
  </tabset>
</div>
